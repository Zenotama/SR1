---------------------------------
-- Generated By: SR Cutscene Exporter
-- Cutscene: insurance_barrio
-- Exported By: Ev.Religioso
---------------------------------


function cutscene_main()
	load_chunk("sr_chunk16_law", true )
	time_of_day_lights_enable(false)
	thread_new_cutscene_shot("shot1", 1)
	thread_new_cutscene_shot("shot2", 2)
	thread_new_cutscene_shot("shot3", 3)
	thread_new_cutscene_shot("shot4", 4)
	thread_new_cutscene_shot("shot5", 5)
	thread_new_cutscene_shot("shot6", 6)
	thread_new_cutscene_shot("shot7", 7)
end

function shot1()
	local excluded_lights_1 = {"BB Omni wall01", "BB Omni wall02", "BB Omni main", "Level Omni07", "BB Omni wall05"}
	light_set_lights(excluded_lights_1, 5, false)

	local included_lights_1 = {"BB Omni wall03", "BB Omni wall04", "Level Omni05", "Level Omni08"}
	light_set_lights(included_lights_1, 4, true)

	fade_in(0.5)
	select_slate("slate_lawoffice_barrio")
	character_show("#PLAYER#")
	teleport_to_slate_pos("#PLAYER#", 0.69, 0.0, 0.214, "slate_lawoffice_barrio")
	play_custom_action_do("#PLAYER#", "insurance_barrio_player_1")
	teleport_to_slate_pos("CS_raymond", -0.361, 0.0, -2.238, "slate_lawoffice_barrio")
	play_custom_action_do("CS_raymond", "insurance_barrio_doctor_1")
	teleport_to_slate_pos("CS_ChairA", -1.768, 0.0, -2.73, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairA", "insurance_barrio_ChairA_1")
	teleport_to_slate_pos("CS_ChairB", -1.703, 0.0, 0.171, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairB", "insurance_barrio_ChairB_1")
	set_level_lights(false)
end

function shot2()
	local excluded_lights_2 = {"BB Omni wall01", "BB Omni main", "BB Omni wall04", "Level Omni07"}
	light_set_lights(excluded_lights_2, 4, false)

	local included_lights_2 = {"BB Omni wall02", "BB Omni wall03", "Level Omni05", "Level Omni08", "BB Omni wall05"}
	light_set_lights(included_lights_2, 5, true)

	teleport_to_slate_pos("#PLAYER#", 0.753, 0.0, -0.377, "slate_lawoffice_barrio")
	play_custom_action_do("#PLAYER#", "insurance_barrio_player_2")
	teleport_to_slate_pos("CS_raymond", 0.117, 0.0, -1.673, "slate_lawoffice_barrio")
	play_custom_action_do("CS_raymond", "insurance_barrio_doctor_2")
	teleport_to_slate_pos("CS_ChairA", -1.768, 0.0, -2.73, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairA", "insurance_barrio_ChairA_2")
	teleport_to_slate_pos("CS_ChairB", -1.703, 0.0, 0.171, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairB", "insurance_barrio_ChairB_2")
	fat_bones_enable("#PLAYER#", false) 
end

function shot3()
	local excluded_lights_3 = {"BB Omni wall02", "BB Omni main", "Level Omni07", "BB Omni wall05"}
	light_set_lights(excluded_lights_3, 4, false)

	local included_lights_3 = {"BB Omni wall01", "BB Omni wall03", "BB Omni wall04", "Level Omni05", "Level Omni08"}
	light_set_lights(included_lights_3, 5, true)

	teleport_to_slate_pos("#PLAYER#", -0.855, 0.0, -0.822, "slate_lawoffice_barrio")
	play_custom_action_do("#PLAYER#", "insurance_barrio_player_3")
	teleport_to_slate_pos("CS_raymond", -0.971, 0.0, -2.238, "slate_lawoffice_barrio")
	play_custom_action_do("CS_raymond", "insurance_barrio_doctor_3")
	teleport_to_slate_pos("CS_ChairA", -1.768, 0.0, -2.73, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairA", "insurance_barrio_ChairA_3")
	teleport_to_slate_pos("CS_ChairB", -1.703, 0.0, 0.171, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairB", "insurance_barrio_ChairB_3")
	fat_bones_enable("#PLAYER#", true) 
end

function shot4()
	local excluded_lights_4 = {"BB Omni wall01", "BB Omni main", "Level Omni07"}
	light_set_lights(excluded_lights_4, 3, false)

	local included_lights_4 = {"BB Omni wall02", "BB Omni wall03", "BB Omni wall04", "Level Omni05", "Level Omni08", "BB Omni wall05"}
	light_set_lights(included_lights_4, 6, true)

	teleport_to_slate_pos("#PLAYER#", -1.312, 0.0, -0.262, "slate_lawoffice_barrio")
	play_custom_action_do("#PLAYER#", "insurance_barrio_player_4")
	teleport_to_slate_pos("CS_raymond", -1.35, 0.0, -2.524, "slate_lawoffice_barrio")
	play_custom_action_do("CS_raymond", "insurance_barrio_doctor_4")
	teleport_to_slate_pos("CS_ChairA", -1.768, 0.0, -2.73, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairA", "insurance_barrio_ChairA_4")
	teleport_to_slate_pos("CS_ChairB", -1.703, 0.0, 0.171, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairB", "insurance_barrio_ChairB_4")
end

function shot5()
	local excluded_lights_5 = {"BB Omni wall01", "BB Omni wall02", "BB Omni main", "Level Omni07", "BB Omni wall05"}
	light_set_lights(excluded_lights_5, 5, false)

	local included_lights_5 = {"BB Omni wall03", "BB Omni wall04", "Level Omni05", "Level Omni08"}
	light_set_lights(included_lights_5, 4, true)

	teleport_to_slate_pos("#PLAYER#", -1.312, 0.0, -0.262, "slate_lawoffice_barrio")
	play_custom_action_do("#PLAYER#", "insurance_barrio_player_5")
	teleport_to_slate_pos("CS_raymond", -1.549, 0.0, -2.71, "slate_lawoffice_barrio")
	play_custom_action_do("CS_raymond", "insurance_barrio_doctor_5")
	teleport_to_slate_pos("CS_ChairA", -1.768, 0.0, -2.73, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairA", "insurance_barrio_ChairA_5")
	teleport_to_slate_pos("CS_ChairB", -1.703, 0.0, 0.171, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairB", "insurance_barrio_ChairB_5")
end

function shot6()
	local excluded_lights_6 = {"BB Omni wall01", "BB Omni main", "Level Omni07"}
	light_set_lights(excluded_lights_6, 3, false)

	local included_lights_6 = {"BB Omni wall02", "BB Omni wall03", "BB Omni wall04", "Level Omni05", "Level Omni08", "BB Omni wall05"}
	light_set_lights(included_lights_6, 6, true)

	teleport_to_slate_pos("#PLAYER#", -1.312, 0.0, -0.262, "slate_lawoffice_barrio")
	play_custom_action_do("#PLAYER#", "insurance_barrio_player_6")
	teleport_to_slate_pos("CS_raymond", -1.549, 0.0, -2.71, "slate_lawoffice_barrio")
	play_custom_action_do("CS_raymond", "insurance_barrio_doctor_6")
	teleport_to_slate_pos("CS_ChairA", -1.768, 0.0, -2.73, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairA", "insurance_barrio_ChairA_6")
	teleport_to_slate_pos("CS_ChairB", -1.703, 0.0, 0.171, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairB", "insurance_barrio_ChairB_6")
end

function shot7()
	local excluded_lights_7 = {"BB Omni wall01", "BB Omni wall02", "BB Omni main", "Level Omni07", "BB Omni wall05"}
	light_set_lights(excluded_lights_7, 5, false)

	local included_lights_7 = {"BB Omni wall03", "BB Omni wall04", "Level Omni05", "Level Omni08"}
	light_set_lights(included_lights_7, 4, true)

	teleport_to_slate_pos("#PLAYER#", -1.312, 0.0, -0.262, "slate_lawoffice_barrio")
	play_custom_action_do("#PLAYER#", "insurance_barrio_player_7")
	teleport_to_slate_pos("CS_raymond", -1.549, 0.0, -2.71, "slate_lawoffice_barrio")
	play_custom_action_do("CS_raymond", "insurance_barrio_doctor_7")
	teleport_to_slate_pos("CS_ChairA", -1.768, 0.0, -2.73, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairA", "insurance_barrio_ChairA_7")
	teleport_to_slate_pos("CS_ChairB", -1.703, 0.0, 0.171, "slate_lawoffice_barrio")
	play_custom_action_do("CS_ChairB", "insurance_barrio_ChairB_7")
	delay(3.0)
	fade_out(0.5)
end

function cutscene_abort()
	time_of_day_lights_enable(true)
	letterbox_fade_out(true)
	fade_out(0.5)
	character_show("#PLAYER#")
	fat_bones_enable("#PLAYER#", true) 
end

function cutscene_end()
	time_of_day_lights_enable(true)
	character_show("#PLAYER#")
	stop_custom_actions("#PLAYER#")
	stop_custom_actions("CS_raymond")
	stop_custom_actions("CS_ChairA")
	stop_custom_actions("CS_ChairB")
	letterbox_fade_out(true)
	fade_out(0.5)
	fat_bones_enable("#PLAYER#", true) 
end
