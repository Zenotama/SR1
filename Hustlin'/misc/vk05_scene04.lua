---------------------------------
-- Generated By: SR Cutscene Exporter
-- Cutscene: vk05_scene04
-- Exported By: Ev.religioso
---------------------------------


function cutscene_main()
	load_chunk("sr_chunk38", true )
	load_chunks("sr_chunk38_greens", "sr_chunk38" )
	thread_new_cutscene_shot("shot1", 1)
	thread_new_cutscene_shot("shot2", 2)
	thread_new_cutscene_shot("shot3", 3)
	thread_new_cutscene_shot("shot4", 4)
	thread_new_cutscene_shot("shot5", 5)
	thread_new_cutscene_shot("shot6", 6)
end

function shot1()
	local excluded_lights_1 = {"greens_Omni16", "greens_Omni04", "greens_Omni15", "greens_Omni14", "greens_Omni13", "greens_Omni50", "greens_Omni03", "greens_Omni27", "greens_Omni26", "greens_Omni25", "greens_Omni05", "greens_Omni06", "greens_Omni12", "greens_Omni11", "greens_Omni10", "greens_Omni07", "greens_Omni32", "BB Omni03", "BB Omni05"}
	light_set_lights(excluded_lights_1, 19, false)

	local included_lights_1 = {"BB Omni01", "greens_Omni19", "greens_Omni20", "greens_FreeSpot03", "greens_Omni17", "greens_FreeSpot02", "greens_FreeSpot04", "BB Omni02", "BB Omni04"}
	light_set_lights(included_lights_1, 9, true)

	fade_in(0.5)
	select_slate("slate_anthony_condo")
	character_show("#PLAYER#")
	teleport_to_slate_pos("#PLAYER#", 1.259, -0.032, -5.549, "slate_anthony_condo")
	play_custom_action_do("#PLAYER#", "vk05_scene04_player_1")
	teleport_to_slate_pos("CS_tanya", -1.016, -0.023, -2.098, "slate_anthony_condo")
	play_custom_action_do("CS_tanya", "vk05_scene04_tanya_1")
	set_level_lights(false)
end

function shot2()
	local excluded_lights_2 = {"BB Omni01", "greens_Omni04", "greens_Omni50", "greens_Omni03", "greens_Omni27", "greens_Omni26", "greens_Omni25", "greens_Omni05", "greens_Omni06", "greens_FreeSpot03", "greens_Omni17", "greens_FreeSpot02", "greens_Omni11", "greens_Omni10", "greens_Omni07", "greens_FreeSpot04", "greens_Omni32", "BB Omni03", "BB Omni04", "BB Omni05"}
	light_set_lights(excluded_lights_2, 20, false)

	local included_lights_2 = {"greens_Omni16", "greens_Omni19", "greens_Omni15", "greens_Omni14", "greens_Omni13", "greens_Omni20", "greens_Omni12", "BB Omni02"}
	light_set_lights(included_lights_2, 8, true)

	teleport_to_slate_pos("#PLAYER#", 2.313, -0.029, 0.326, "slate_anthony_condo")
	play_custom_action_do("#PLAYER#", "vk05_scene04_player_2")
	teleport_to_slate_pos("CS_tanya", 3.755, 2.723, 14.141, "slate_anthony_condo")
	play_custom_action_do("CS_tanya", "vk05_scene04_tanya_2")
end

function shot3()
	local excluded_lights_3 = {"BB Omni01", "greens_Omni16", "greens_Omni04", "greens_Omni19", "greens_Omni15", "greens_Omni14", "greens_Omni13", "greens_Omni50", "greens_Omni03", "greens_Omni27", "greens_Omni25", "greens_Omni20", "greens_Omni05", "greens_Omni06", "greens_FreeSpot03", "greens_Omni17", "greens_FreeSpot02", "greens_Omni12", "greens_Omni11", "greens_Omni10", "greens_Omni07", "greens_FreeSpot04", "greens_Omni32", "BB Omni02", "BB Omni04"}
	light_set_lights(excluded_lights_3, 25, false)

	local included_lights_3 = {"greens_Omni26", "BB Omni03", "BB Omni05"}
	light_set_lights(included_lights_3, 3, true)

	teleport_to_slate_pos("#PLAYER#", -6.818, 5.404, 19.196, "slate_anthony_condo")
	play_custom_action_do("#PLAYER#", "vk05_scene04_player_3")
	teleport_to_slate_pos("CS_tanya", -1.945, 4.143, 16.347, "slate_anthony_condo")
	play_custom_action_do("CS_tanya", "vk05_scene04_tanya_3")
end

function shot4()
	local excluded_lights_4 = {"BB Omni01", "greens_Omni16", "greens_Omni04", "greens_Omni19", "greens_Omni15", "greens_Omni14", "greens_Omni13", "greens_Omni50", "greens_Omni03", "greens_Omni25", "greens_Omni20", "greens_Omni05", "greens_Omni06", "greens_FreeSpot03", "greens_Omni17", "greens_FreeSpot02", "greens_Omni12", "greens_Omni11", "greens_Omni10", "greens_Omni07", "greens_FreeSpot04", "greens_Omni32", "BB Omni02", "BB Omni04"}
	light_set_lights(excluded_lights_4, 24, false)

	local included_lights_4 = {"greens_Omni27", "greens_Omni26", "BB Omni03", "BB Omni05"}
	light_set_lights(included_lights_4, 4, true)

	teleport_to_slate_pos("#PLAYER#", -6.156, 5.489, 18.764, "slate_anthony_condo")
	play_custom_action_do("#PLAYER#", "vk05_scene04_player_4")
	teleport_to_slate_pos("CS_tanya", -6.765, 5.465, 17.072, "slate_anthony_condo")
	play_custom_action_do("CS_tanya", "vk05_scene04_tanya_4")
end

function shot5()
	local excluded_lights_5 = {"BB Omni01", "greens_Omni16", "greens_Omni04", "greens_Omni19", "greens_Omni15", "greens_Omni14", "greens_Omni13", "greens_Omni50", "greens_Omni03", "greens_Omni27", "greens_Omni25", "greens_Omni20", "greens_Omni05", "greens_Omni06", "greens_FreeSpot03", "greens_Omni17", "greens_FreeSpot02", "greens_Omni12", "greens_Omni11", "greens_Omni10", "greens_Omni07", "greens_FreeSpot04", "greens_Omni32", "BB Omni02", "BB Omni04"}
	light_set_lights(excluded_lights_5, 25, false)

	local included_lights_5 = {"greens_Omni26", "BB Omni03", "BB Omni05"}
	light_set_lights(included_lights_5, 3, true)

	teleport_to_slate_pos("#PLAYER#", -6.701, 5.485, 17.08, "slate_anthony_condo")
	play_custom_action_do("#PLAYER#", "vk05_scene04_player_5")
	teleport_to_slate_pos("CS_tanya", -6.504, 5.474, 16.338, "slate_anthony_condo")
	play_custom_action_do("CS_tanya", "vk05_scene04_tanya_5")
end

function shot6()
	local excluded_lights_6 = {"BB Omni01", "greens_Omni16", "greens_Omni04", "greens_Omni19", "greens_Omni15", "greens_Omni14", "greens_Omni13", "greens_Omni50", "greens_Omni03", "greens_Omni25", "greens_Omni20", "greens_Omni05", "greens_Omni06", "greens_FreeSpot03", "greens_Omni17", "greens_FreeSpot02", "greens_Omni12", "greens_Omni11", "greens_Omni10", "greens_Omni07", "greens_FreeSpot04", "greens_Omni32", "BB Omni02", "BB Omni04"}
	light_set_lights(excluded_lights_6, 24, false)

	local included_lights_6 = {"greens_Omni27", "greens_Omni26", "BB Omni03", "BB Omni05"}
	light_set_lights(included_lights_6, 4, true)

	teleport_to_slate_pos("#PLAYER#", -6.811, 5.484, 17.03, "slate_anthony_condo")
	play_custom_action_do("#PLAYER#", "vk05_scene04_player_6")
	teleport_to_slate_pos("CS_tanya", -6.349, 5.493, 16.18, "slate_anthony_condo")
	play_custom_action_do("CS_tanya", "vk05_scene04_tanya_6")
	delay(0.8)
	fade_out(0.5)
end

function cutscene_abort()
	letterbox_fade_out(true)
	fade_out(0.5)
	character_show("#PLAYER#")
end

function cutscene_end()
	character_show("#PLAYER#")
	stop_custom_actions("#PLAYER#")
	stop_custom_actions("CS_tanya")
	letterbox_fade_out(true)
	fade_out(0.5)
end
