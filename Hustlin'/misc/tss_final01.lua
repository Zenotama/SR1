---------------------------------
-- Generated By: SR Cutscene Exporter
-- Cutscene: tss_final01
-- Exported By: Ev.Religioso
---------------------------------


function cutscene_main()
	load_chunks("sr_finalcutscene_1", "sr_finalcutscene_1")
	thread_new_cutscene_shot("shot1", 1)
	thread_new_cutscene_shot("shot2", 2)
	thread_new_cutscene_shot("shot3", 3)
	thread_new_cutscene_shot("shot4", 4)
	thread_new_cutscene_shot("shot5", 5)
	thread_new_cutscene_shot("shot6", 6)
	thread_new_cutscene_shot("shot7", 7)
	thread_new_cutscene_shot("shot8", 8)
	thread_new_cutscene_shot("shot9", 9)
	thread_new_cutscene_shot("shot10", 10)
	thread_new_cutscene_shot("shot11", 11)
	thread_new_cutscene_shot("shot12", 12)
	thread_new_cutscene_shot("shot13", 13)
	thread_new_cutscene_shot("shot14", 14)
	thread_new_cutscene_shot("shot15", 15)
	thread_new_cutscene_shot("shot16", 16)
	thread_new_cutscene_shot("shot17", 17)
end

function shot1()
	fade_in(0.5)
	character_show("#PLAYER#")
	teleport_to_slate_pos("#PLAYER#", 0.3, 0.0, -0.946, "slate_fin1_church")
	play_custom_action_do("#PLAYER#", "tss_final01_pc_1")
	city_no_render_al(true)
	set_human_cutscene_weapon("cellphone1l")
	time_of_day_lights_enable(false)
end

function shot2()
	select_slate("slate_fin1_street")
	character_hide("#PLAYER#")
	teleport_to_slate_pos("CS_jul", 452.888, -4.068, -232.179, "slate_fin1_street")
	play_custom_action_do("CS_jul", "tss_final01_jul_2")
	teleport_to_slate_pos("CS_car", 452.844, -4.037, -231.632, "slate_fin1_street")
	play_custom_action_do("CS_car", "tss_final01_car_2")
	set_human_cutscene_weapon("cellphone1l", "CS_jul")
	time_of_day_lights_enable(true)
end

function shot3()
	teleport_to_slate_pos("CS_aish", 352.467, 0.0, -0.87, "slate_fin1_greenscondo")
	play_custom_action_do("CS_aish", "tss_final01_aish_3")
	teleport_to_slate_pos("CS_jnny", 354.222, 0.0, -0.717, "slate_fin1_greenscondo")
	play_custom_action_do("CS_jnny", "tss_final01_jnny_3")
	time_of_day_lights_enable(false)
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
	set_human_cutscene_weapon("bouquet", "CS_jnny")
end

function shot4()
	teleport_to_slate_pos("CS_aish", 352.868, 0.0, -0.688, "slate_fin1_greenscondo")
	play_custom_action_do("CS_aish", "tss_final01_aish_4")
	teleport_to_slate_pos("CS_jnny", 354.225, 0.0, -0.721, "slate_fin1_greenscondo")
	play_custom_action_do("CS_jnny", "tss_final01_jnny_4")
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
end

function shot5()
	select_slate("slate_fin1_chopshop")
	teleport_to_slate_pos("CS_don", 443.909, 0.0, -1.32, "slate_fin1_chopshop")
	play_custom_action_do("CS_don", "tss_final01_don_5")
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
	set_human_cutscene_weapon("photolynn", "CS_don")
end

function shot6()
	teleport_to_slate_pos("CS_don", 443.908, 0.0, -1.32, "slate_fin1_chopshop")
	play_custom_action_do("CS_don", "tss_final01_don_6")
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
end

function shot7()
	select_slate("slate_fin1_airport")
	teleport_to_slate_pos("CS_king", 655.31, 0.0, -10.097, "slate_fin1_airport")
	play_custom_action_do("CS_king", "tss_final01_king_7")
	time_of_day_lights_enable(true)
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
	set_human_cutscene_weapon("photokingjulius", "CS_king")
end

function shot8()
	teleport_to_slate_pos("CS_king", 655.229, 0.0, -10.104, "slate_fin1_airport")
	play_custom_action_do("CS_king", "tss_final01_king_8")
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
	set_human_cutscene_weapon("", "CS_king")
	set_human_cutscene_weapon("briefcaseL", "CS_king")
end

function shot9()
	select_slate("slate_fin1_luzbar")
	teleport_to_slate_pos("CS_man", 882.893, 0.0, -1.216, "slate_fin1_luzbar")
	play_custom_action_do("CS_man", "tss_final01_man_9")
	teleport_to_slate_pos("CS_luz", 883.8, 0.0, -1.042, "slate_fin1_luzbar")
	play_custom_action_do("CS_luz", "tss_final01_luz_9")
	time_of_day_lights_enable(false)
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
	set_human_cutscene_weapon("lighter", "CS_luz")
	set_human_cutscene_weapon("lighterL", "CS_man")
end

function shot10()
	teleport_to_slate_pos("CS_man", 883.181, 0.0, -0.941, "slate_fin1_luzbar")
	play_custom_action_do("CS_man", "tss_final01_man_10")
	teleport_to_slate_pos("CS_luz", 883.8, 0.0, -1.041, "slate_fin1_luzbar")
	play_custom_action_do("CS_luz", "tss_final01_luz_10")
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 

end

function shot11()
	select_slate("slate_fin1_strip")
	teleport_to_slate_pos("CS_dex", 1000.43, -0.612, 17.166, "slate_fin1_strip")
	play_custom_action_do("CS_dex", "tss_final01_dex_11")
	time_of_day_lights_enable(true)
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
end

function shot12()
	teleport_to_slate_pos("CS_dex", 1000.44, -0.612, 17.16, "slate_fin1_strip")
	play_custom_action_do("CS_dex", "tss_final01_dex_12")
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
end

function shot13()
	select_slate("slate_fin1_troybar")
	teleport_to_slate_pos("CS_troy", 1201.69, 0.0, -0.416, "slate_fin1_troybar")
	play_custom_action_do("CS_troy", "tss_final01_troy_13")
	time_of_day_lights_enable(false)
	set_framebuffer_tint (0.223,0.190,0.119,5)  
	set_framebuffer_saturation (0.7) 
	set_human_cutscene_weapon("liquorbottle", "CS_troy")
end

function shot14()
	character_show("#PLAYER#")
	teleport_to_slate_pos("#PLAYER#", 0.311, 0.0, -0.903, "slate_fin1_church")
	play_custom_action_do("#PLAYER#", "tss_final01_pc_14")
	time_of_day_lights_enable(false)
end

function shot15()
	select_slate("slate_fin1_street")
	character_hide("#PLAYER#")
	teleport_to_slate_pos("CS_jul", 360.438, -4.068, -219.07, "slate_fin1_street")
	play_custom_action_do("CS_jul", "tss_final01_jul_15")
	teleport_to_slate_pos("CS_car", 360.323, -4.037, -218.532, "slate_fin1_street")
	play_custom_action_do("CS_car", "tss_final01_car_15")
	time_of_day_lights_enable(true)
end

function shot16()
	character_show("#PLAYER#")
	teleport_to_slate_pos("#PLAYER#", 0.301, 0.0, -0.969, "slate_fin1_church")
	play_custom_action_do("#PLAYER#", "tss_final01_pc_16")
	teleport_to_slate_pos("CS_snt1", -1.098, 0.0, -0.365, "slate_fin1_church")
	play_custom_action_do("CS_snt1", "tss_final01_snt1_16")
	teleport_to_slate_pos("CS_snt2", -0.236, 0.0, 0.972, "slate_fin1_church")
	play_custom_action_do("CS_snt2", "tss_final01_snt2_16")
	teleport_to_slate_pos("CS_snt3", -1.12, 0.0, 0.553, "slate_fin1_church")
	play_custom_action_do("CS_snt3", "tss_final01_snt3_16")
	teleport_to_slate_pos("CS_snt4", -0.256, 0.0, 0.176, "slate_fin1_church")
	play_custom_action_do("CS_snt4", "tss_final01_snt4_16")
	teleport_to_slate_pos("CS_snt5", -0.703, 0.0, -1.036, "slate_fin1_church")
	play_custom_action_do("CS_snt5", "tss_final01_snt5_16")
	teleport_to_slate_pos("CS_snt6", -1.319, 0.0, -0.794, "slate_fin1_church")
	play_custom_action_do("CS_snt6", "tss_final01_snt6_16")
	teleport_to_slate_pos("CS_snt7", -1.601, 0.0, 0.323, "slate_fin1_church")
	play_custom_action_do("CS_snt7", "tss_final01_snt7_16")
	time_of_day_lights_enable(false)
end

function shot17()
	fat_bones_enable("#PLAYER#", false) 
	set_human_cutscene_weapon("")
	set_human_cutscene_weapon("glockL")
-- NOTE These set_human functions are in the "manual" lua, so it gets placed above the delay function from the fade out.
	teleport_to_slate_pos("#PLAYER#", 0.301, 0.0, -0.966, "slate_fin1_church")
	play_custom_action_do("#PLAYER#", "tss_final01_pc_17")
	delay(3.93333)
	fade_out(0.5)

end

function cutscene_abort()
	fat_bones_enable("#PLAYER#", true) 
	letterbox_fade_out(true)
	fade_out(0.5)
	character_show("#PLAYER#")
	time_of_day_lights_enable(true)
	character_show("#PLAYER#")
end

function cutscene_end()
	fat_bones_enable("#PLAYER#", true) 
	character_show("#PLAYER#")
	stop_custom_actions("CS_aish")
	stop_custom_actions("CS_jnny")
	stop_custom_actions("CS_king")
	stop_custom_actions("CS_don")
	stop_custom_actions("CS_troy")
	stop_custom_actions("CS_man")
	stop_custom_actions("CS_dex")
	stop_custom_actions("#PLAYER#")
	stop_custom_actions("CS_jul")
	stop_custom_actions("CS_car")
	stop_custom_actions("CS_snt1")
	stop_custom_actions("CS_snt2")
	stop_custom_actions("CS_snt3")
	stop_custom_actions("CS_snt4")
	stop_custom_actions("CS_snt5")
	stop_custom_actions("CS_snt6")
	stop_custom_actions("CS_snt7")
	stop_custom_actions("CS_luz")
	letterbox_fade_out(true)
	fade_out(0.5)
	time_of_day_lights_enable(true)
	character_show("#PLAYER#")
end
