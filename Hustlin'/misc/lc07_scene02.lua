---------------------------------
-- Generated By: SR Cutscene Exporter
-- Cutscene: lc07_scene02
-- Exported By: Ev.Religioso
---------------------------------


function cutscene_main()
	load_chunks("sr_chunk02_church", "sr_chunk14_lopez")
	thread_new_cutscene_shot("shot1", 1)
	thread_new_cutscene_shot("shot2", 2)
	thread_new_cutscene_shot("shot3", 3)
	thread_new_cutscene_shot("shot4", 4)
	thread_new_cutscene_shot("shot5", 5)
	thread_new_cutscene_shot("shot6", 6)
	thread_new_cutscene_shot("shot7", 7)
end

function shot1()
	local excluded_lights_1 = {"BB Angelo Omni01", "BB Angelo Omni02", "BB Angelo Omni03", "BB Angelo Omni04", "lpz_wBB Omni48", "lpz_wBB Omni46", "lpz_wBB Omni50", "lpz_wBB Omni42", "lpz_wBB Omni87", "lpz_wBB Omni86", "lpz_wBB Omni85", "lpz_wBB Omni51", "lpz_wBB Omni47", "lpz_wBB Omni38", "BB Angelo Omni05"}
	light_set_lights(excluded_lights_1, 15, false)

	local included_lights_1 = {"CHURCH_BB FreeSpot_main", "CHURCH_BB Omni_fill", "CHURCH_BB FreeSpot_rim", "BB Omni01"}
	light_set_lights(included_lights_1, 4, true)

	fade_in(0.5)
	select_slate("slate_church_main")
	character_hide("#PLAYER#")
	teleport_to_slate_pos("CS_dex", 0.42, -0.322, -2.233, "slate_church_main")
	play_custom_action_do("CS_dex", "lc07_scene02_dex_1")
	teleport_to_slate_pos("CS_dedvic", 1.201, -0.323, -3.474, "slate_church_main")
	play_custom_action_do("CS_dedvic", "lc07_scene02_corpse_1")
	teleport_to_slate_pos("CS_troy", -0.644, -0.352, -2.932, "slate_church_main")
	play_custom_action_do("CS_troy", "lc07_scene02_troy_1")
	set_level_lights(false)
	time_of_day_lights_enable(false)
end

function shot2()
	local excluded_lights_2 = {"lpz_wBB Omni48", "lpz_wBB Omni46", "lpz_wBB Omni50", "lpz_wBB Omni87", "lpz_wBB Omni85", "lpz_wBB Omni51", "lpz_wBB Omni47", "lpz_wBB Omni38", "BB Angelo Omni05", "CHURCH_BB FreeSpot_main", "CHURCH_BB Omni_fill", "CHURCH_BB FreeSpot_rim", "BB Omni01"}
	light_set_lights(excluded_lights_2, 13, false)

	local included_lights_2 = {"BB Angelo Omni01", "BB Angelo Omni02", "BB Angelo Omni03", "BB Angelo Omni04", "lpz_wBB Omni42", "lpz_wBB Omni86"}
	light_set_lights(included_lights_2, 6, true)

	select_slate("slate_angelo_bedroom")
	teleport_to_slate_pos("CS_pistol", -54.243, 0.0, -0.575, "slate_angelo_bedroom")
	play_custom_action_do("CS_pistol", "lc07_scene02_pistol_2")
	teleport_to_slate_pos("CS_luz", -52.919, 0.0, -0.409, "slate_angelo_bedroom")
	play_custom_action_do("CS_luz", "lc07_scene02_luz_2")
	teleport_to_slate_pos("CS_angelo", -54.252, 0.0, -0.263, "slate_angelo_bedroom")
	play_custom_action_do("CS_angelo", "lc07_scene02_angelo_2")
end

function shot3()
	local excluded_lights_3 = {"lpz_wBB Omni46", "lpz_wBB Omni50", "lpz_wBB Omni42", "lpz_wBB Omni87", "lpz_wBB Omni86", "lpz_wBB Omni51", "lpz_wBB Omni47", "lpz_wBB Omni38", "BB Angelo Omni05", "CHURCH_BB FreeSpot_main", "CHURCH_BB Omni_fill", "CHURCH_BB FreeSpot_rim", "BB Omni01"}
	light_set_lights(excluded_lights_3, 13, false)

	local included_lights_3 = {"BB Angelo Omni01", "BB Angelo Omni02", "BB Angelo Omni03", "BB Angelo Omni04", "lpz_wBB Omni48", "lpz_wBB Omni85"}
	light_set_lights(included_lights_3, 6, true)

	teleport_to_slate_pos("CS_luz", -52.918, 0.0, -0.176, "slate_angelo_bedroom")
	play_custom_action_do("CS_luz", "lc07_scene02_luz_3")
	teleport_to_slate_pos("CS_angelo", -54.245, 0.0, -0.269, "slate_angelo_bedroom")
	play_custom_action_do("CS_angelo", "lc07_scene02_angelo_3")
end

function shot4()
	local excluded_lights_4 = {"lpz_wBB Omni48", "lpz_wBB Omni46", "lpz_wBB Omni50", "lpz_wBB Omni87", "lpz_wBB Omni85", "lpz_wBB Omni51", "lpz_wBB Omni47", "lpz_wBB Omni38", "CHURCH_BB FreeSpot_main", "CHURCH_BB Omni_fill", "CHURCH_BB FreeSpot_rim", "BB Omni01"}
	light_set_lights(excluded_lights_4, 12, false)

	local included_lights_4 = {"BB Angelo Omni01", "BB Angelo Omni02", "BB Angelo Omni03", "BB Angelo Omni04", "lpz_wBB Omni42", "lpz_wBB Omni86", "BB Angelo Omni05"}
	light_set_lights(included_lights_4, 7, true)

	teleport_to_slate_pos("CS_luz", -52.921, 0.0, -0.255, "slate_angelo_bedroom")
	play_custom_action_do("CS_luz", "lc07_scene02_luz_4")
	teleport_to_slate_pos("CS_angelo", -54.22, 0.0, -0.04, "slate_angelo_bedroom")
	play_custom_action_do("CS_angelo", "lc07_scene02_angelo_4")
end

function shot5()
	local excluded_lights_5 = {"BB Angelo Omni02", "lpz_wBB Omni46", "lpz_wBB Omni50", "lpz_wBB Omni87", "lpz_wBB Omni86", "lpz_wBB Omni51", "lpz_wBB Omni47", "lpz_wBB Omni38", "CHURCH_BB FreeSpot_main", "CHURCH_BB Omni_fill", "CHURCH_BB FreeSpot_rim", "BB Omni01"}
	light_set_lights(excluded_lights_5, 12, false)

	local included_lights_5 = {"BB Angelo Omni01", "BB Angelo Omni03", "BB Angelo Omni04", "lpz_wBB Omni48", "lpz_wBB Omni42", "lpz_wBB Omni85", "BB Angelo Omni05"}
	light_set_lights(included_lights_5, 7, true)

	teleport_to_slate_pos("CS_luz", -53.602, 0.0, 0.984, "slate_angelo_bedroom")
	play_custom_action_do("CS_luz", "lc07_scene02_luz_5")
	teleport_to_slate_pos("CS_angelo", -54.182, 0.0, 0.244, "slate_angelo_bedroom")
	play_custom_action_do("CS_angelo", "lc07_scene02_angelo_5")
end

function shot6()
	local excluded_lights_6 = {"BB Angelo Omni02", "lpz_wBB Omni48", "lpz_wBB Omni46", "lpz_wBB Omni50", "lpz_wBB Omni87", "lpz_wBB Omni51", "lpz_wBB Omni47", "lpz_wBB Omni38", "CHURCH_BB FreeSpot_main", "CHURCH_BB Omni_fill", "CHURCH_BB FreeSpot_rim", "BB Omni01"}
	light_set_lights(excluded_lights_6, 12, false)

	local included_lights_6 = {"BB Angelo Omni01", "BB Angelo Omni03", "BB Angelo Omni04", "lpz_wBB Omni42", "lpz_wBB Omni86", "lpz_wBB Omni85", "BB Angelo Omni05"}
	light_set_lights(included_lights_6, 7, true)

	teleport_to_slate_pos("CS_luz", -53.455, 0.0, 1.026, "slate_angelo_bedroom")
	play_custom_action_do("CS_luz", "lc07_scene02_luz_6")
	teleport_to_slate_pos("CS_angelo", -53.979, 0.0, 0.564, "slate_angelo_bedroom")
	play_custom_action_do("CS_angelo", "lc07_scene02_angelo_6")
end

function shot7()
	local excluded_lights_7 = {"BB Angelo Omni02", "lpz_wBB Omni46", "lpz_wBB Omni50", "lpz_wBB Omni87", "lpz_wBB Omni86", "lpz_wBB Omni51", "lpz_wBB Omni47", "lpz_wBB Omni38", "CHURCH_BB FreeSpot_main", "CHURCH_BB Omni_fill", "CHURCH_BB FreeSpot_rim"}
	light_set_lights(excluded_lights_7, 11, false)

	local included_lights_7 = {"BB Angelo Omni01", "BB Angelo Omni03", "BB Angelo Omni04", "lpz_wBB Omni48", "lpz_wBB Omni42", "lpz_wBB Omni85", "BB Angelo Omni05", "BB Omni01"}
	light_set_lights(included_lights_7, 8, true)

	teleport_to_slate_pos("CS_luz", -53.454, 0.0, 1.026, "slate_angelo_bedroom")
	play_custom_action_do("CS_luz", "lc07_scene02_luz_7")
	teleport_to_slate_pos("CS_angelo", -53.988, 0.0, 0.687, "slate_angelo_bedroom")
	play_custom_action_do("CS_angelo", "lc07_scene02_angelo_7")
	delay(4.93333)
	fade_out(0.5)
end

function cutscene_abort()
	letterbox_fade_out(true)
	fade_out(0.5)
	character_show("#PLAYER#")
	time_of_day_lights_enable(true)
end

function cutscene_end()
	character_show("#PLAYER#")
	stop_custom_actions("CS_dex")
	stop_custom_actions("CS_pistol")
	stop_custom_actions("CS_dedvic")
	stop_custom_actions("CS_luz")
	stop_custom_actions("CS_angelo")
	stop_custom_actions("CS_troy")
	letterbox_fade_out(true)
	fade_out(0.5)
	time_of_day_lights_enable(true)
end
