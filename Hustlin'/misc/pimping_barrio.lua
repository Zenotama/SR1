---------------------------------
-- Generated By: SR Cutscene Exporter
-- Cutscene: pimping_barrio
-- Exported By: Ev.Religioso
---------------------------------


function cutscene_main()
	load_chunk("sr_chunk16", true)
	load_chunks("sr_chunk16_broth", "sr_chunk16")
	pvs_enable(false)
	thread_new_cutscene_shot("shot1", 1)
	thread_new_cutscene_shot("shot2", 2)
	thread_new_cutscene_shot("shot3", 3)
	thread_new_cutscene_shot("shot4", 4)
	thread_new_cutscene_shot("shot5", 5)
	thread_new_cutscene_shot("shot6", 6)
	thread_new_cutscene_shot("shot7", 7)
	thread_new_cutscene_shot("shot8", 8)
end

function shot1()
	local excluded_lights_1 = {"brothel_Omni06", "brothel_Omni05", "BB FreeSpot03", "brothel_Omni28", "brothel_Omni30", "brothel_Omni31", "brothel PC Omni33"}
	light_set_lights(excluded_lights_1, 7, false)

	local included_lights_1 = {"brothel_Omni26", "brothel_Omni25", "brothel_Omni24", "brothel_Omni23", "brothel_Omni22", "brothel_Omni19", "brothel_Omni07", "brothel_Omni01", "BB FreeSpot01", "BB FreeSpot02", "BB FreeSpot04", "brothel_Omni27", "brothel_Omni29", "BB Omni01", "BB Omni02", "brothel PC Omni32"}
	light_set_lights(included_lights_1, 16, true)

	set_level_lights(false)
	fade_in(0.5)
	select_slate("slate_brothel_barrio")
	character_show("#PLAYER#")
	teleport_to_slate_pos("CS_Loreana", -0.419, 0.049, -0.267, "slate_brothel_barrio")
	play_custom_action_do("CS_Loreana", "pimping_barrio_loreana_1")
	teleport_to_slate_pos("#PLAYER#", 0.038, 0.049, -0.168, "slate_brothel_barrio")
	play_custom_action_do("#PLAYER#", "pimping_barrio_player_1")
	teleport_to_slate_pos("CS_chair", -0.468, 0.0, -3.45, "slate_brothel_barrio")
	play_custom_action_do("CS_chair", "pimping_barrio_chair_1")
end

function shot2()
	local excluded_lights_2 = {"brothel_Omni24", "brothel_Omni22", "brothel_Omni19", "brothel_Omni06", "brothel_Omni05", "BB FreeSpot04", "BB Omni01", "BB Omni02", "brothel_Omni30", "brothel_Omni31", "brothel PC Omni32", "brothel PC Omni33"}
	light_set_lights(excluded_lights_2, 12, false)

	local included_lights_2 = {"brothel_Omni26", "brothel_Omni25", "brothel_Omni23", "brothel_Omni07", "brothel_Omni01", "BB FreeSpot01", "BB FreeSpot02", "BB FreeSpot03", "brothel_Omni27", "brothel_Omni28", "brothel_Omni29"}
	light_set_lights(included_lights_2, 11, true)

	teleport_to_slate_pos("CS_Loreana", -11.787, 0.049, -8.185, "slate_brothel_barrio")
	play_custom_action_do("CS_Loreana", "pimping_barrio_loreana_2")
	teleport_to_slate_pos("#PLAYER#", 0.691, 0.049, -1.105, "slate_brothel_barrio")
	play_custom_action_do("#PLAYER#", "pimping_barrio_player_2")
	teleport_to_slate_pos("CS_chair", -0.468, 0.0, -3.45, "slate_brothel_barrio")
	play_custom_action_do("CS_chair", "pimping_barrio_chair_2")
end

function shot3()
	local excluded_lights_3 = {"brothel_Omni26", "brothel_Omni25", "brothel_Omni24", "brothel_Omni19", "brothel_Omni07", "brothel_Omni05", "brothel_Omni01", "BB Omni01", "brothel_Omni30", "brothel_Omni31", "brothel PC Omni33"}
	light_set_lights(excluded_lights_3, 11, false)

	local included_lights_3 = {"brothel_Omni23", "brothel_Omni22", "brothel_Omni06", "BB FreeSpot01", "BB FreeSpot02", "BB FreeSpot03", "BB FreeSpot04", "brothel_Omni27", "brothel_Omni28", "brothel_Omni29", "BB Omni02", "brothel PC Omni32"}
	light_set_lights(included_lights_3, 12, true)

	teleport_to_slate_pos("CS_Loreana", -3.432, 0.049, -4.589, "slate_brothel_barrio")
	play_custom_action_do("CS_Loreana", "pimping_barrio_loreana_3")
	teleport_to_slate_pos("#PLAYER#", -1.93, 0.049, -2.118, "slate_brothel_barrio")
	play_custom_action_do("#PLAYER#", "pimping_barrio_player_3")
	teleport_to_slate_pos("CS_chair", -0.468, 0.0, -3.45, "slate_brothel_barrio")
	play_custom_action_do("CS_chair", "pimping_barrio_chair_3")
end

function shot4()
	local excluded_lights_4 = {"brothel_Omni24", "brothel_Omni22", "brothel_Omni07", "brothel_Omni06", "brothel_Omni05", "brothel_Omni27", "brothel_Omni29", "BB Omni01", "brothel_Omni30", "brothel_Omni31", "brothel PC Omni32"}
	light_set_lights(excluded_lights_4, 11, false)

	local included_lights_4 = {"brothel_Omni26", "brothel_Omni25", "brothel_Omni23", "brothel_Omni19", "brothel_Omni01", "BB FreeSpot01", "BB FreeSpot02", "BB FreeSpot03", "BB FreeSpot04", "brothel_Omni28", "BB Omni02", "brothel PC Omni33"}
	light_set_lights(included_lights_4, 12, true)

	teleport_to_slate_pos("CS_Loreana", -2.063, 0.049, -3.728, "slate_brothel_barrio")
	play_custom_action_do("CS_Loreana", "pimping_barrio_loreana_4")
	teleport_to_slate_pos("#PLAYER#", -1.352, 0.049, -3.253, "slate_brothel_barrio")
	play_custom_action_do("#PLAYER#", "pimping_barrio_player_4")
	teleport_to_slate_pos("CS_chair", -0.468, 0.0, -3.45, "slate_brothel_barrio")
	play_custom_action_do("CS_chair", "pimping_barrio_chair_4")
end

function shot5()
	local excluded_lights_5 = {"brothel_Omni26", "brothel_Omni24", "brothel_Omni19", "brothel_Omni07", "brothel_Omni05", "brothel_Omni27", "brothel_Omni29", "BB Omni01", "brothel_Omni30", "brothel PC Omni32"}
	light_set_lights(excluded_lights_5, 10, false)

	local included_lights_5 = {"brothel_Omni25", "brothel_Omni23", "brothel_Omni22", "brothel_Omni06", "brothel_Omni01", "BB FreeSpot01", "BB FreeSpot02", "BB FreeSpot03", "BB FreeSpot04", "brothel_Omni28", "BB Omni02", "brothel_Omni31", "brothel PC Omni33"}
	light_set_lights(included_lights_5, 13, true)

	teleport_to_slate_pos("CS_Loreana", -1.625, 0.049, -3.23, "slate_brothel_barrio")
	play_custom_action_do("CS_Loreana", "pimping_barrio_loreana_5")
	teleport_to_slate_pos("#PLAYER#", -1.228, 0.049, -3.27, "slate_brothel_barrio")
	play_custom_action_do("#PLAYER#", "pimping_barrio_player_5")
	teleport_to_slate_pos("CS_chair", -0.468, 0.0, -3.45, "slate_brothel_barrio")
	play_custom_action_do("CS_chair", "pimping_barrio_chair_5")
end

function shot6()
	local excluded_lights_6 = {"brothel_Omni25", "brothel_Omni22", "brothel_Omni19", "brothel_Omni06", "brothel_Omni05", "brothel_Omni01", "brothel_Omni27", "brothel_Omni28", "brothel_Omni29", "BB Omni01", "brothel_Omni30", "brothel_Omni31"}
	light_set_lights(excluded_lights_6, 12, false)

	local included_lights_6 = {"brothel_Omni26", "brothel_Omni24", "brothel_Omni23", "brothel_Omni07", "BB FreeSpot01", "BB FreeSpot02", "BB FreeSpot03", "BB FreeSpot04", "BB Omni02", "brothel PC Omni32", "brothel PC Omni33"}
	light_set_lights(included_lights_6, 11, true)

	teleport_to_slate_pos("CS_Loreana", -0.025, 0.049, -2.902, "slate_brothel_barrio")
	play_custom_action_do("CS_Loreana", "pimping_barrio_loreana_6")
	teleport_to_slate_pos("#PLAYER#", -0.45, 0.049, -3.434, "slate_brothel_barrio")
	play_custom_action_do("#PLAYER#", "pimping_barrio_player_6")
	teleport_to_slate_pos("CS_chair", -0.468, 0.0, -3.45, "slate_brothel_barrio")
	play_custom_action_do("CS_chair", "pimping_barrio_chair_6")
end

function shot7()
	local excluded_lights_7 = {"brothel_Omni26", "brothel_Omni25", "brothel_Omni07", "brothel_Omni05", "brothel_Omni01", "BB FreeSpot04", "brothel_Omni27", "brothel_Omni29", "BB Omni01", "BB Omni02", "brothel_Omni30", "brothel_Omni31", "brothel PC Omni32", "brothel PC Omni33"}
	light_set_lights(excluded_lights_7, 14, false)

	local included_lights_7 = {"brothel_Omni24", "brothel_Omni23", "brothel_Omni22", "brothel_Omni19", "brothel_Omni06", "BB FreeSpot01", "BB FreeSpot02", "BB FreeSpot03", "brothel_Omni28"}
	light_set_lights(included_lights_7, 9, true)

	teleport_to_slate_pos("CS_Loreana", 1.823, 0.049, -2.59, "slate_brothel_barrio")
	play_custom_action_do("CS_Loreana", "pimping_barrio_loreana_7")
	teleport_to_slate_pos("#PLAYER#", -0.447, 0.049, -3.432, "slate_brothel_barrio")
	play_custom_action_do("#PLAYER#", "pimping_barrio_player_7")
	teleport_to_slate_pos("CS_chair", -0.468, 0.0, -3.45, "slate_brothel_barrio")
	play_custom_action_do("CS_chair", "pimping_barrio_chair_7")
end

function shot8()
	local excluded_lights_8 = {"brothel_Omni26", "brothel_Omni25", "brothel_Omni07", "brothel_Omni05", "brothel_Omni01", "BB FreeSpot04", "brothel_Omni27", "brothel_Omni28", "brothel_Omni29", "BB Omni01", "BB Omni02", "brothel_Omni30", "brothel_Omni31", "brothel PC Omni33"}
	light_set_lights(excluded_lights_8, 14, false)

	local included_lights_8 = {"brothel_Omni24", "brothel_Omni23", "brothel_Omni22", "brothel_Omni19", "brothel_Omni06", "BB FreeSpot01", "BB FreeSpot02", "BB FreeSpot03", "brothel PC Omni32"}
	light_set_lights(included_lights_8, 9, true)

	teleport_to_slate_pos("CS_Loreana", 2.24, 0.049, -2.499, "slate_brothel_barrio")
	play_custom_action_do("CS_Loreana", "pimping_barrio_loreana_8")
	teleport_to_slate_pos("#PLAYER#", -0.447, 0.049, -3.432, "slate_brothel_barrio")
	play_custom_action_do("#PLAYER#", "pimping_barrio_player_8")
	teleport_to_slate_pos("CS_chair", -0.468, 0.0, -3.45, "slate_brothel_barrio")
	play_custom_action_do("CS_chair", "pimping_barrio_chair_8")
	delay(3.8)
	fade_out(0.5)
end

function cutscene_abort()
	letterbox_fade_out(true)
	fade_out(0.5)
	character_show("#PLAYER#")
end

function cutscene_end()
	character_show("#PLAYER#")
	stop_custom_actions("CS_Loreana")
	stop_custom_actions("#PLAYER#")
	stop_custom_actions("CS_chair")
	letterbox_fade_out(true)
	fade_out(0.5)
end
